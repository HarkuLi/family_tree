<!DOCTYPE html>
<html>
<head>
  <!-- passed data: {item} -->
  <%- include('../partials/head') %>
  <link rel="stylesheet" href="/css/tree.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <title>detail</title>
</head>
<body>
  <!-- navigator -->
  <%- include('../partials/navigator') %>

  <!-- main content -->
  <div id="node_detail" class="container">
    <h3>detail:</h3>
    <button type="button" id="edit_detail" class="btn btn-primary btn-sm margin_up_btn">edit</button><br>
    <% for(let prop in item){ %>
      <% if(prop === "_id"){ %>
        <input type="hidden" id="detail_id" name="_id" value="<%= item[prop] %>">
      <% }else{ %>
        <p><strong><%= prop %>: </strong><%= item[prop] %></p>
      <% } %>
    <% } %>
  </div>

  <div class="container">
    <h3>dialog:</h3>
    <button type="button" id="add_dialog" class="btn btn-primary btn-sm margin_up_btn">add</button><br>
    <textarea rows=1 id="pat_filter" class="input_ele" placeholder="pattern"></textarea>
    <textarea rows=1 id="res_filter" class="input_ele" placeholder="response"></textarea>
    <button type="button" id="filter_search" class="btn btn-info btn-sm material-icons" style="font-size:16px">search</button><br>
    <div id="paging_row" class="margin_up_btn">
      <button type="button" id="last_page" class="btn btn-default btn-sm">◀</button>
      <button type="button" class="btn btn-primary btn-sm paging_btn">1</button>
      <% for(let i=2; i<=total_page && i<=5; ++i){ %>
        <button type="button" class="btn btn-default btn-sm paging_btn"><%= i %></button>
      <% } %>
      <button type="button" id=next_page class="btn btn-default btn-sm">▶</button>
    </div>
    <div id="dialog_list">
      <% for(let ele of dialog_list){ %>
        <strong>pattern: </strong><textarea rows=1 class="input_ele" disabled><%= ele.pattern %></textarea>
        <strong>response: </strong><textarea rows=1 class="input_ele" disabled><%= ele.response %></textarea>
        <button type="button" class="btn btn-primary btn-sm">edit</button>
        <button type="button" class="btn btn-danger btn-sm">delete</button><br>
      <% } %>
    </div>
  </div>
  
  <!-- footer -->
  <%- include('../partials/footer') %>
  <!-- /container -->
  <%- include('../partials/mask/cover') %>
  <!-- global scripts -->
  <%- include('../partials/globalScripts') %>

  <script src="/js/detail_page.js"></script>
</body>
</html>